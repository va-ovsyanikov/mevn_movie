(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655489c2"],{"0de0":function(e,t,i){},"109d":function(e,t,i){"use strict";i("0de0")},"2cea":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"mt-6":""}},[i("BtnPrev"),i("h3",[e._v("Редактирование")]),e.notice?i("Modal",{on:{alertHide:e.alertHide}},[e._v(e._s(e.notice))]):e._e(),i("v-form",{ref:"form",staticClass:"mt-6",attrs:{"lazy-validation":"",action:"add-post",method:"post",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{counter:10,rules:e.titleRules,label:"Название фильма",required:"","prepend-icon":"mdi-note",name:"title"},model:{value:e.postEdit.title,callback:function(t){e.$set(e.postEdit,"title","string"===typeof t?t.trim():t)},expression:"postEdit.title"}}),i("v-text-field",{attrs:{rules:e.categoryRules,label:"Жанр",required:"","prepend-icon":"mdi-view-list",name:"category"},model:{value:e.postEdit.category,callback:function(t){e.$set(e.postEdit,"category","string"===typeof t?t.trim():t)},expression:"postEdit.category"}}),i("v-text-field",{attrs:{type:"number",rules:e.releasedRules,label:"Релиз",required:"","prepend-icon":"mdi-bookmark-check",name:"released"},model:{value:e.postEdit.released,callback:function(t){e.$set(e.postEdit,"released","string"===typeof t?t.trim():t)},expression:"postEdit.released"}}),i("v-textarea",{staticClass:"mb-6",attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Описание",required:"",rules:e.descRules,"prepend-icon":"mdi-note-plus",name:"description"},model:{value:e.postEdit.description,callback:function(t){e.$set(e.postEdit,"description","string"===typeof t?t.trim():t)},expression:"postEdit.description"}}),i("v-text-field",{attrs:{rules:e.previewRules,label:"Трейлер (iframe)",required:"","prepend-icon":"mdi-movie-open-play",name:"preview"},model:{value:e.postEdit.preview,callback:function(t){e.$set(e.postEdit,"preview","string"===typeof t?t.trim():t)},expression:"postEdit.preview"}}),i("v-file-input",{attrs:{label:"Новое изображение",counter:"",multiple:"",name:"uploadImage"},on:{change:e.selectFile},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),i("v-img",{attrs:{"max-height":"150","max-width":"250",src:"/"+e.postEdit.image}}),i("div",{staticClass:"btn_group"},[i("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",type:"submit"}},[e._v("Изменить")]),i("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:e.reset}},[e._v(" Сброс ")])],1)],1)],1)},r=[],s=i("5530"),n=(i("a4d3"),i("e01a"),i("2f62")),o=i("714b"),l=i("a7b0"),d={name:"AddPost",components:{Modal:o["a"],BtnPrev:l["a"]},data:function(){return{alert_show:"",valid:!0,file:[],img:"",titleRules:[function(e){return!!e||"Название обязательно"}],categoryRules:[function(e){return!!e||"Жанр обязательно"}],releasedRules:[function(e){return!!e||"Релиз обязательно"}],descRules:[function(e){return!!e||"Описание обязательно"}],previewRules:[function(e){return!!e||"Трейлер обязательно"}]}},computed:Object(s["a"])({},Object(n["c"])({postEdit:"GET_POST",notice:"NOTICE_EDIT"})),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["b"])(["CREATE_POST","FETCH_POST","EDIT_POST"])),Object(n["d"])(["NOTICE_HIDE"])),{},{selectFile:function(e){this.img=e[0]},submitForm:function(){this.$refs.form.validate();var e=new FormData;e.append("title",this.postEdit.title),e.append("category",this.postEdit.category),e.append("released",this.postEdit.released),e.append("preview",this.postEdit.preview),e.append("description",this.postEdit.description),e.append("image",this.img),e.append("oldImage",this.postEdit.image),this.EDIT_POST({id:this.$route.params.id,data:e}),this.$refs.form.validate()&&this.$refs.form.reset()},alertHide:function(){this.NOTICE_HIDE(),this.$router.push({name:"Post",params:{id:this.postEdit._id}})},reset:function(){this.$refs.form.reset()}}),mounted:function(){this.FETCH_POST(this.$route.params.id)}},c=d,p=(i("109d"),i("2877")),u=i("6544"),m=i.n(u),f=i("8336"),v=i("a523"),b=i("23a7"),E=i("4bd4"),h=i("adda"),g=i("8654"),_=i("a844"),y=Object(p["a"])(c,a,r,!1,null,"451fd81e",null);t["default"]=y.exports;m()(y,{VBtn:f["a"],VContainer:v["a"],VFileInput:b["a"],VForm:E["a"],VImg:h["a"],VTextField:g["a"],VTextarea:_["a"]})},a7b0:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-btn",{attrs:{color:"primary mb-8",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[i("v-icon",{attrs:{left:""}},[e._v(" mdi-chevron-double-left ")]),e._v(" Назад ")],1)],1)},r=[],s={name:"BtnPrev"},n=s,o=i("2877"),l=i("6544"),d=i.n(l),c=i("8336"),p=i("132d"),u=Object(o["a"])(n,a,r,!1,null,"649a3347",null);t["a"]=u.exports;d()(u,{VBtn:c["a"],VIcon:p["a"]})}}]);
//# sourceMappingURL=chunk-655489c2.ad506986.js.map